<!-- templates/base.html -->

{% load static %} 


<!DOCTYPE html>
<html lang="en">
    <head>
      <meta charset="UTF-8">
      <title>D&D App</title>
      <!-- <link rel="stylesheet" href="{% static 'dnd.css' %}"> -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    </head>
    <body>
      <!-- A minimal site-wide navbar -->
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
          <a class="navbar-brand" href="{% url 'campaign_list' %}">
            D&D Manager
          </a>

            <!-- Display who is logged in -->
            <div class="text-end">
                {% if request.user.is_authenticated %}
                <h3 class="navbar-brand"> Logged in as: {{request.user}} </h3>
                {% else %}
                <h3 class="navbar-brand"> Not logged in </h3>
                {% endif %} 

                <!-- if logged in, show the logout button -->
                {% if request.user.is_authenticated %}

                    <form action="{% url 'logout' %}" method="POST">
                        {% csrf_token %}
                        <button type="submit">Logout</button>
                    </form>

                <!-- if not logged in, show the login button -->
                {% else %}
                    <a href="{% url 'login' %}">Login</a>
                    <a href="{% url 'register' %}">Register</a>
                {% endif %}

            </div>



        </div>
  

      </nav>
    
      <!-- Sub-navigation block -->
      {% block subnav %}{% endblock subnav %}
    
      <div class="container mt-3">
        {% block content %}{% endblock content %}
      </div>
    
      <footer class="text-center mt-4">
        &copy; 2025 D&D Manager
      </footer>
    
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </body>
    </html>
    