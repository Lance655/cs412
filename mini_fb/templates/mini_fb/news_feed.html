<!-- 
File: news_feed.html
Author: Lance Sinson (ssinson@bu.edu), 3/21/25
Description: The news feed html template for the mini_fb website. 
-->

{% extends 'mini_fb/base.html' %}

{% block content %}

    <a href="{% url 'show_profile' profile.pk %}">Back to {{profile.first_name}} {{profile.last_name}}'s page</a>

    <!-- status_message is a StatusMessage object -->
    {% for status_message in profile.get_news_feed %}

        <img src="{{ status_message.profile.image_url }}" alt="Photo of {{ status_message.profile.first_name }} {{ status_message.profile.last_name}}">
        <p>
            {{ status_message.timestamp }}
        </p>
        <p>
            {{ status_message.message }}
        </p>
        
        <!-- loop thru a status message's photos -->
        <!-- img is an Image object -->
        {% for img in status_message.get_images %}
            <img src='{{img.image_file.url}}' alt='{{img.image_file.url}}'>
        {% endfor %}

    {% endfor %}

{% endblock %}


